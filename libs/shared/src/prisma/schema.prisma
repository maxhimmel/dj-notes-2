generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mongodb"
  url      = env("DATABASE_URL")
}

type SetList {
  id        String   @map("_id") @db.ObjectId
  createdAt DateTime @db.Date
  edges     Edge[]
  name      String
  tracks    Track[]
  updatedAt DateTime @db.Date
}

type Edge {
  id     String @map("_id") @db.ObjectId
  edgeId String
  source String
  target String
}

type Track {
  id           String        @map("_id") @db.ObjectId
  artist       String
  nodeId       String
  position     Position
  spotifyTrack SpotifyTrack?
  title        String
}

type Position {
  id String @map("_id") @db.ObjectId
  x  Float
  y  Float
}

type SpotifyTrack {
  id        String @map("_id") @db.ObjectId
  albumImg  String
  spotifyId String
}

model User {
  id       String    @id @default(auto()) @map("_id") @db.ObjectId
  v        Int       @map("__v")
  email    String    @unique()
  password String
  setLists SetList[]
  username String    @unique()

  @@map("Users")
}
